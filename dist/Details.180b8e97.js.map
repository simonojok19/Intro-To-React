{"version":3,"sources":["Carousel.js","ErrorBounderies.js","Model.js","Details.js"],"names":["Carousel","React","Component","photos","active","event","setState","target","dataset","index","getDerivedStateFromProps","media","length","map","large","render","state","photo","handleIndexClick","ErrorBoundaries","hasError","redirect","getDerivedStateFromError","componentDidCatch","error","info","console","componentDidUpdate","setTimeout","props","children","modalRoot","document","getElementById","Modal","elRef","current","createElement","appendChild","removeChild","Details","constructor","showModel","url","loading","componentDidMount","pet","animal","id","then","name","type","location","contact","address","city","description","breed","breeds","primary","catch","err","themeHook","backgroundColor","toggleModal","adopt","DetailsWithErrorBoundary"],"mappings":";;;;;;;AAEA,AGDA,AFDA,ACAA;;ACEA,AFDA,ACAA;;ACEA;;AACA;;AHAA,AGCA,MHDMA,QAAN,SAAuBC,eAAMC,SAA7B,CAAuC;AAAA;AAAA,AGEvC,ADHA,MAAM6B,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAlB;;AFCuC,AGGvC,AFJA,ACEA,MDFMd,ACEAe,KAAK,GAAG,CAAC,MDFf,SAA8BhC,KDEpB,WCFV,CAAwC;ADGpCC,ACHoC,ACEvB2B,EAAAA,IFCb3B,MAAM,EAAE,EADF;AAENC,ACJoC,ACEzB,CAAD,KFEVA,AEF4B,MFEtB,EAAE;AAFF,AECR,KFFqC,GEE/B+B,KAAK,GAAG,mBAAO,IAAP,CAAd;ADHsC,mCAC9B;ADA6B,ACCnCf,ACEF,MDFEA,ACEE,CAACe,KAAK,CAACC,CDFD,EAAE,ICEZ,CDHQ,CCGY,wBFUA/B,KAAD,IAAW;AAC5B,ACZAgB,ACEAc,IAAAA,EDFAd,GCEK,CAACe,CFUD9B,GCZG,EAAE,CCEV,EFUA,CAAc,AEVE0B,QAAQ,CAACK,aAAT,CAAuB,KAAvB,CAAhB;AFWEjC,ACfI,ACKP,KDNqC,GDgBlCA,MAAM,EAAE,CAACC,KAAK,CAACE,MAAN,CAAaC,OAAb,CAAqBC;AADlB,AGTlB,AFNwC,MEMlC+B,CHSF,MGTJ,SAAsBvC,eAAMC,SAA5B,CAAsC;AHYnC,AGXDuC,ADCA,ECDAA,GHNqC,QGM1B,GAAG,QDCJ,MAAM;AFPqB,AGOnC,AFFF,ACGEV,IAAAA,KDHKT,ICGI,CAACgB,WAAV,CAAsBH,KAAK,CAACC,CDH9B,GAAkC,GCGhC;ADFA,ACGA,WDHO,ACGA,MAAML,SAAS,CAACQ,WAAV,CAAsBJ,KAAK,CAACC,OAA5B,CAAb;AFJF,AGCc,AFAHhB,ACIV,GAHD,GDDWA,GDDJV,KCCY,EAAE,iBDDrB,CAAgC,OGwBlB,MAAM,KAAKJ,QAAL,CAAc;AHxBAK,AGwBE+B,AFvB3B,ACKT,IFNkC/B,CCChC,CEuBkC+B,SAAS,EAAE,CAAC,IDlBzC,CCkB8C1B,KAAL,CAAW0B,qBDlBvC,4BAAMZ,QAAN,CAAb,EAAoCK,KAAK,CAACC,OAA1C,CAAP;AFNgC,AGwBE,AFtBjC,ACKF,CAXD,EFIE,EAA2C,AGwBvB,CAvBN;AHAZ,QAAIjC,MAAM,GAAG,CAAC,+BAAD,CAAb;AGAY,AFGdoB,EAAAA,aCKaW,IDLI,CAACV,KAAD,EAAQC,IAAR,EAAc,EEqBvB,MAAM,sBAAS,KAAKT,KAAL,CAAW2B,GAApB,CAxBA;AHCZ,ACGAjB,IAAAA,IDHIf,GCGG,CAACa,CDHC,CAACZ,GCGV,CAAc,EDHd,EAAkB,2BCGlB,EAA+CY,KAA/C,EAAsDC,IAAtD;ADFEtB,AGAF,AFGD,MDHGA,GGAGa,GHAG,EGAR,CHAWL,EGAE,GHAG,CAACE,GAAN,CAAU,CAAC;AAAEC,AGAT8B,MAAAA,EHAS9B,KGAF,EAAE,IAAX;AHAS,AGAQ4B,AFKhCf,EAAAA,IELgCe,CHAT,KAAe5B,GGAG,EHA5B,AGA8B,CHAvC,ECKc,GAAG;ADJlB,AGDY,AFMb,KENA,GFMI,KAAKE,KAAL,CAAWI,QAAf,EAAyB;AEL1B,AFMGQ,MAAAA,UAAU,CAAC,MAAM,KAAKtB,QAAL,CAAc;ADLjC,ACKmCe,QAAAA,GDL5B,KCKoC,EAAE;ADLpClB,AGCX0C,AFImC,EEJnCA,IHDW1C,CCKU,CAAP,EAA0C,IAA1C,CAAV,IEJa,GAAG;AHDX,AGEP2C,AFIC,KDND,YGGGC,MADH,CACU,CAAC,KAAKlB,KAAL,CAAWmB,EADtB,EAEGC,IAFH,CAEQ,CAAC;AHHV,AGGYF,AFGZ,MEHYA;AAAF,KAAD,KAAgB;AHI1BhC,AGHM,AFGNA,EDAAA,ACAAA,MDAM,ACAA,GDAG,AGHET,AFGF,QEHH,CAAc;AHIlB,AGHMqC,AFGN,QEHMA,AFGF,EDAE,CGHG,EAAEI,AFGF/B,KAAL,CEHa,AFGFK,CEHGsB,GADA,IFIlB,EAAyB;ADAjBxC,AGFF+C,AFGJ,MDDM/C,EGFF+C,IHEA,AGFI,CFGD,CEHGH,MAAM,CAACG,IAFD,GFKR,gBAAD;ADDO9C,AGDV2C,AFEa,MDDH3C,EGDV2C,AFEa,EAAE,EAAC,EEFV,EAAEA,MAAM,CAACI,IAHH;AHIZ,AGAAC,AFCG,QDDkB,AGArBA,AFCJ,KDD8BpC,GGAlB,EHAd,AGAiB,GAAE+B,MAAM,CAACM,OAAP,CAAeC,OAAf,CAAuBC,IAAK,KAAIR,MAAM,CAACM,OAAP,CAAeC,OAAf,CAAuBtC,KAAM,EAJ9D;AHKlB,AGAMwC,AFCL,QEDKA,GHCJ,QGDe,EAAET,MAAM,CAACS,WALR;AHMX,AGAD7C,MHAC,EGADA,KAAK,EHAK,AGAHoC,EHAI,IGAE,CAAC5C,MANF;AHMhB,AGCIsD,AFCN,ODDI,CGAEA,AFCF,KEDO,AFCFzC,EEDI+B,GFCT,CAAW3B,EEDI,CAACsC,KFCpB,CEDa,CAAcC,AFCF,OERP;AHOT,AGCHf,AFCJ,MDFO,EGCHA,CHDM,EAAEzC,ECGV,EEFS,EHDO,AGCL,CHDMC,MAAD,CAAhB,yDCIwC,eAAC,eAAD;ADJd,AGPZ,AFWgC,MDJpB,CGP1B,CFW8C,CDJjB,CCImB,CDJlB,CCImB;ADJjD,AGGD,AFCyC,KEd5C,CHSE,CGKCwD,CHHC,IGXJ,CAcUC,GAAD,IAAS,EFDd,GECmBvD,QAAL,CAAc,0CFF9B;ADDO,AGGyBkB,AFIjC,MDPQ,AGGyBA,KAAK,EAAEqC,EHHvB,EAAC;AAAf,AGG4B,KAAd,CAdlB,CHYO1D,MAAM,CAACU,GAAP,CAAW,CAACI,KAAD,EAAQR,KAAR,KACV;AACE,AGCX,AFIC,MDLU,GAAG,EAAEQ,ACKR,KDNC,ACMIY,KAAL,CAAWC,QAAlB;ADJU,ACKX,MDLW,GAAG,EAAEb,KAFP;AAGE,AGGZF,EAAAA,MAAM,GAAG,SHHeN,KAHd;AAIE,AGGV,AFjCoC,MD8B1B,EGGN,KHHa,AGGRO,EHHU,GGGf,CAAW4B,CHHS1B,MGGxB,EAAwB,QHPhB;AAKE,AGGR,MHHQ,OGGD,EHHU,EAAET,KAAK,KAAKL,MAAV,GAAmB,QAAnB,GAA8B,EAL3C,SGQN;AHFQ,AGGT,MHHS,GAAG,EAAC,ICIHe;ADVH,MADD,CADH,CAFF,CADF;AAiBD,AGDC,UAAM;AAAE4B,MAAAA,MAAF;AHpC6B,AGoCnBU,MAAAA,KAAV;AAAiBL,MAAAA,QAAjB;AAA2BI,MAAAA,SHItBxD,EGJL;AAAwCW,MAAAA,KAAxC;AAA+CuC,MAAAA;AAA/C,QAAwD,KAAKlC,KAAnE;AAEA,WACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,eAAC,iBAAD;AAAU,MAAA,KAAK,EAAEL;AAAjB,MADF,EAEE,4BACE,2BAAKuC,IAAL,CADF,EAEE,2BAAM,GAAEH,MAAO,MAAKU,KAAM,MAAKL,QAAS,EAAxC,CAFF,EAGE,eAAC,qBAAD,CAAc,QAAd,QACIU,SAAD,IACC;AACE,MAAA,KAAK,EAAE;AAAEC,QAAAA,eAAe,EAAED,SAAS,CAAC,CAAD;AAA5B,OADT;AAEE,MAAA,OAAO,EAAE,KAAKE;AAFhB,iBAISd,IAJT,CAFJ,CAHF,EAcE,0BAAIM,WAAJ,CAdF,EAeG,KAAKxC,KAAL,CAAW0B,SAAX,GACC,eAAC,cAAD,QACE,4BACE,0DADF,EAEE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAQ,MAAA,OAAO,EAAE,KAAKuB;AAAtB,aADF,EAEE;AAAQ,MAAA,OAAO,EAAE,KAAKA;AAAtB,yBAFF,CAFF,CADF,CADD,GAUG,IAzBN,CAFF,CADF;AAgCD;;AAjEmC;;AAoEvB,SAASC,wBAAT,CAAkCrC,KAAlC,EAAyC;AACtD,SACE,eAAC,wBAAD,QACE,eAAC,OAAD,EAAaA,KAAb,CADF,CADF;AAKD","file":"Details.180b8e97.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\r\nimport React from \"react\";\r\n\r\nclass Carousel extends React.Component {\r\n  state = {\r\n    photos: [],\r\n    active: 0,\r\n  };\r\n  static getDerivedStateFromProps({ media }) {\r\n    let photos = [\"http://placecorgi.com/600/600\"];\r\n    if (media.length) {\r\n      photos = media.map(({ large }) => large);\r\n    }\r\n    return { photos };\r\n  }\r\n\r\n  handleIndexClick = (event) => {\r\n    this.setState({\r\n      active: +event.target.dataset.index,\r\n    });\r\n  };\r\n  render() {\r\n    const { photos, active } = this.state;\r\n    return (\r\n      <div className=\"carousel\">\r\n        <img src={photos[active]} alt=\"animal\" />\r\n        <div className=\"carousel-smaller\">\r\n          {photos.map((photo, index) => (\r\n            <img\r\n              key={photo}\r\n              src={photo}\r\n              data-index={index}\r\n              onClick={this.handleIndexClick}\r\n              className={index === active ? \"active\" : \"\"}\r\n              alt=\"Animal thumbnail\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Carousel;\r\n","import React, { Component } from \"react\";\r\nimport Link, { Redirect } from \"@reach/router\";\r\n\r\nclass ErrorBoundaries extends Component {\r\n  state = {\r\n    hasError: false,\r\n    redirect: false,\r\n  };\r\n\r\n  static getDerivedStateFromError() {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    console.error(\"ErrorBoundary Caught an error\", error, info);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.hasError) {\r\n      setTimeout(() => this.setState({ redirect: true }), 5000);\r\n    }\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    if (this.state.hasError) {\r\n      return (\r\n        <h1>\r\n          There was an error with this loading. <Link to=\"/\">Click Here</Link>\r\n          to go back to the home page or wait five seconds.\r\n        </h1>\r\n      );\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundaries;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.getElementById(\"modal\");\r\n\r\nconst Modal = ({ children }) => {\r\n  const elRef = useRef(null);\r\n  if (!elRef.current) {\r\n    elRef.current = document.createElement(\"div\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    modalRoot.appendChild(elRef.current);\r\n    return () => modalRoot.removeChild(elRef.current);\r\n  });\r\n  return createPortal(<div>{children}</div>, elRef.current);\r\n};\r\n\r\nexport default Modal;\r\n","// replace Details.js\r\nimport React from \"react\";\r\nimport pet from \"@frontendmasters/pet\";\r\nimport Carousel from \"./Carousel\";\r\nimport ErrorBoundaries from \"./ErrorBounderies\";\r\nimport ThemeContext from \"./ThemeContext\";\r\nimport { navigate } from \"@reach/router\";\r\nimport Modal from \"./Model\";\r\n\r\nclass Details extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { loading: true, showModel: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    pet\r\n      .animal(+this.props.id)\r\n      .then(({ animal }) => {\r\n        this.setState({\r\n          url: animal.url,\r\n          name: animal.name,\r\n          animal: animal.type,\r\n          location: `${animal.contact.address.city}, ${animal.contact.address.state}`,\r\n          description: animal.description,\r\n          media: animal.photos,\r\n          breed: animal.breeds.primary,\r\n          loading: false,\r\n        });\r\n      })\r\n      .catch((err) => this.setState({ error: err }));\r\n  }\r\n\r\n  toggleModal = () => this.setState({ showModel: !this.state.showModel });\r\n  adopt = () => navigate(this.state.url);\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <h1>loading … </h1>;\r\n    }\r\n\r\n    const { animal, breed, location, description, media, name } = this.state;\r\n\r\n    return (\r\n      <div className=\"details\">\r\n        <Carousel media={media} />\r\n        <div>\r\n          <h1>{name}</h1>\r\n          <h2>{`${animal} — ${breed} — ${location}`}</h2>\r\n          <ThemeContext.Consumer>\r\n            {(themeHook) => (\r\n              <button\r\n                style={{ backgroundColor: themeHook[0] }}\r\n                onClick={this.toggleModal}\r\n              >\r\n                Adopt {name}\r\n              </button>\r\n            )}\r\n          </ThemeContext.Consumer>\r\n\r\n          <p>{description}</p>\r\n          {this.state.showModel ? (\r\n            <Modal>\r\n              <div>\r\n                <h1>Would you like to adopt Name</h1>\r\n                <div className=\"buttons\">\r\n                  <button onClick={this.adopt}>Yes</button>\r\n                  <button onClick={this.adopt}>No, I'm monster</button>\r\n                </div>\r\n              </div>\r\n            </Modal>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default function DetailsWithErrorBoundary(props) {\r\n  return (\r\n    <ErrorBoundaries>\r\n      <Details {...props} />\r\n    </ErrorBoundaries>\r\n  );\r\n}\r\n"]}