{"version":3,"sources":["Carousel.js","ErrorBounderies.js","Details.js"],"names":["Carousel","React","Component","photos","active","event","setState","target","dataset","index","getDerivedStateFromProps","media","length","map","large","render","state","photo","handleIndexClick","ErrorBoundaries","hasError","redirect","getDerivedStateFromError","componentDidCatch","error","info","console","componentDidUpdate","setTimeout","props","children","Model","Details","constructor","showModel","url","loading","componentDidMount","pet","animal","id","then","name","type","location","contact","address","city","description","breed","breeds","primary","catch","err","themeHook","backgroundColor","toggleModal","adopt","DetailsWithErrorBoundary"],"mappings":";;;;;;;AAEA,AEDA,ADDA;;ACEA,ADDA;;ACEA;;AACA;;AFAA,AECA,MFDMA,QAAN,SAAuBC,eAAMC,SAA7B,CAAuC;AAAA;AAAA,AEEvC;;AFFuC,ACDvC,MAAMiB,eAAN,SAA8BjB,KDEpB,WCFV,CAAwC;ADGpCC,ACHoC,MDGpCA,MAAM,EAAE,EADF;AAENC,ACJoC,MDIpCA,MAAM,EAAE;AAFF,KAD6B;ACDC,mCAC9B;ADA6B,ACCnCgB,MAAAA,QAAQ,EAAE,KADJ,yBDaYf,KAAD,IAAW;AAC5B,ACZAgB,MAAAA,KDYKf,GCZG,EAAE,GDYV,CAAc;AACZF,ACfI,KAD8B,GDgBlCA,MAAM,EAAE,CAACC,KAAK,CAACE,MAAN,CAAaC,OAAb,CAAqBC;AADlB,ACfsB,ODepC;AAGD,KAjBoC;AAAA,AEIvC,ADCE,MCDIsB,GDCGT,ECDE,gBAAG,MDCZ,GAAkC,QCDjB,MAAM;AACvB,ADCE,WAAO,iCCDF,SAAP;AFAA,AECD,ADAYF,CCFC,CAAd,IDEaA,GDDJV,KCCY,EAAE,iBDDrB,CAAgC;AAAEC,ACCzB,IDDyBA,CCChC;ADD8B,AEGlC,ADDG,GDFD,EAA2C,CEGvCqB,OAAN,SAAsB/B,eAAMC,SAA5B,CAAsC;AFFlC,AEGF+B,EAAAA,MFHM9B,KEGK,CFHC,EEGE,CFHC,CAAC,+BAAD,CAAb;AEIA,ADDFoB,EAAAA,iBAAiB,CAACC,KAAD,EAAQC,IAAR,EAAc;ADF7B,ACGAC,IAAAA,IDHIf,GCGG,CAACa,CDHC,CAACZ,GCGV,CAAc,EDHd,EAAkB,2BCGlB,EAA+CY,KAA/C,EAAsDC,IAAtD;ADFEtB,AECU,ADEb,MDHGA,MAAM,GAAGQ,KAAK,CAACE,GAAN,CAAU,CAAC,eEwBV,MAAM,KAAKP,QAAL,CAAc;AFxBRQ,AEwBUoB,MAAAA,EFxBVpB,OEwBmB,EAAE,CAAC,KAAKE,KAAL,CAAWkB;AFxBnC,AEwBU,ADnBlCP,EAAAA,GCmBoB,CAvBN,CFDS,KAAeb,KAAzB,CAAT,ECKc,GAAG;ADJlB,ACKD,QAAI,KAAKE,KAAL,CAAWI,QAAf,EAAyB;ACLb,ADMVQ,MAAAA,UAAU,CAAC,MAAM,KAAKtB,OCkBlB,CDlBa,CAAc,ICkBrB,sBAAS,KAAKU,KAAL,CAAWmB,GAApB,CAxBA;AFCZ,ACKmCd,QAAAA,GDL5B,KCKoC,EAAE;ADLpClB,AECT,ADIiC,MDLxBA,CCKU,CAAP,CCJPa,CDIiD,ICJtD,ADIY,CAAV,ECJW;AFDN,AECQoB,ADKd,KDND,CECeA,OAAO,EAAE,IAAX;AFAd,AEA+BF,ADM/B,MCN+BA,SAAS,EAAE;AAA5B,KAAb;AFOFnB,AENC,ADMDA,EDAAA,ACAAA,MDAM,ACAA,GDAG,ACAA;ADCP,ACAA,QAAI,EDAE,GCAGC,KAAL,CAAWK,QAAf,EAAyB;ADAjBlB,AELVkC,ADMI,ECNJA,IFKUlC,MAAF,CCCG,MCNM,GAAG,MDMR,gBAAD;ADDOC,AEJhBkC,ADKmB,MDDHlC,ECCG,EAAE,EAAC,KCJnBmC,MADH,CACU,CAAC,KAAKV,KAAL,CAAWW,EADtB,EAEGC,IAFH,CAEQ,CAAC;AFEH,AEFKF,ADGF,MCHEA,EFEgB,ACCzB,KDD8BvB,KAAhC;AACA,AEHS,ADIR,KCJO,KAAgB,CFItB;AAAK,AEHH,MFGG,KEHEV,IFGO,EAAC,EEHb,CAAc;AFGhB,AEFI6B,ADIN,ODDI,CEHEA,ADIF,GCJK,EAAEI,ADIFvB,KAAL,CCJa,ADIFI,CCJGe,GADA,IDKlB,EAAyB;ADDhB,AEFHO,ADIJ,MDFO,EEFHA,CFEM,EAAEvC,CEFJ,CDKN,CCLQoC,GFEQ,CAACnC,EEFH,CAACsC,GFEC,CAAhB,AEJc,yDDQ0B,eAAC,eAAD;ADJd,AEDxBH,ADK4C,MDJpB,EEDxBA,ADK4C,CDJjB,CCImB,CDJlB,CCImB,ECLzC,EAAEA,MAAM,CAACI,IAHH;AFId,AEAEC,ADIsC,MDL1C,EAEE,AEDEA,QAAQ,EAAG,GAAEL,CDGf,KCHqB,CAACM,OAAP,CAAeC,OAAf,CAAuBC,IAAK,KAAIR,MAAM,CAACM,OAAP,CAAeC,OAAf,CAAuB9B,ADExE,KCF8E,EAJ9D;AFKT,AEAHgC,ADOL,MDPQ,EEAHA,OFAY,EAAC,EEAF,EAAET,MAAM,CAACS,WALR;AFKd,AECErC,OFACR,CEADQ,KFAO,AEAF,CFAGE,CEAD0B,EFAN,CAAW,CAACtB,EEAA,CAACd,EFAF,EAAQM,EENR,GFMA,KACV;AACE,AEDJwC,ADMN,MDLU,EEDJA,CFCO,EAAEhC,ACKR,ECNI,EAAEsB,CFAL,ACMIV,KCNO,ADMZ,CCNaqB,ADMFpB,MCNL,CAAcqB,CDM3B,MCbkB;AFSR,AEDJf,ADMP,MDLW,EEDJA,CFCO,EAAEnB,IEDF,CFDL,CECO;AFEL,AEVQ,OAAd,aFUkBR,KAHd;AAIE,AEDP,AD7BiC,KCgBpC,CFcU,CEAP2C,KAdH,CFciB,AEAPC,EFAS,CEAV,IFAenC,AEAN,KAAKZ,QAAL,CAAc,EFJxB;AAKE,AEDwBkB,MFCxB,AEDwBA,KAAK,EAAE6B,EFCtB,EAAE5C,KAAK,KAAKL,MAAV,GAAmB,QAAnB,GAA8B,EAL3C;AAME,AEFsB,KAAd,CFER,AEhBV,GFgBa,EAAC,ICIHe;ADVH,AEKT,MFNQ,CADH,CAFF,CADF;AAiBD;AEHDJ,EAAAA,MAAM,GAAG;AFlC4B,AEmCnC,QAAI,KAAKC,KAAL,CAAWoB,OAAf,EAAwB;AACtB,aAAO,6CAAP;AACD,eFGUpC;;AEDX,UAAM;AAAEuC,MAAAA,MAAF;AAAUU,MAAAA,KAAV;AAAiBL,MAAAA,QAAjB;AAA2BI,MAAAA,WAA3B;AAAwCrC,MAAAA,KAAxC;AAA+C+B,MAAAA;AAA/C,QAAwD,KAAK1B,KAAnE;AAEA,WACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,eAAC,iBAAD;AAAU,MAAA,KAAK,EAAEL;AAAjB,MADF,EAEE,4BACE,2BAAK+B,IAAL,CADF,EAEE,2BAAM,GAAEH,MAAO,MAAKU,KAAM,MAAKL,QAAS,EAAxC,CAFF,EAGE,eAAC,qBAAD,CAAc,QAAd,QACIU,SAAD,IACC;AACE,MAAA,KAAK,EAAE;AAAEC,QAAAA,eAAe,EAAED,SAAS,CAAC,CAAD;AAA5B,OADT;AAEE,MAAA,OAAO,EAAE,KAAKE;AAFhB,iBAISd,IAJT,CAFJ,CAHF,EAcE,0BAAIM,WAAJ,CAdF,EAeG,KAAKhC,KAAL,CAAWkB,SAAX,GACC,eAAC,KAAD,QACE,4BACE,0DADF,EAEE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAQ,MAAA,OAAO,EAAE,KAAKuB;AAAtB,aADF,EAEE;AAAQ,MAAA,OAAO,EAAE,KAAKA;AAAtB,yBAFF,CAFF,CADF,CADD,GAUG,IAzBN,CAFF,CADF;AAgCD;;AAjEmC;;AAoEvB,SAASC,wBAAT,CAAkC7B,KAAlC,EAAyC;AACtD,SACE,eAAC,wBAAD,QACE,eAAC,OAAD,EAAaA,KAAb,CADF,CADF;AAKD","file":"Details.180b8e97.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\r\nimport React from \"react\";\r\n\r\nclass Carousel extends React.Component {\r\n  state = {\r\n    photos: [],\r\n    active: 0,\r\n  };\r\n  static getDerivedStateFromProps({ media }) {\r\n    let photos = [\"http://placecorgi.com/600/600\"];\r\n    if (media.length) {\r\n      photos = media.map(({ large }) => large);\r\n    }\r\n    return { photos };\r\n  }\r\n\r\n  handleIndexClick = (event) => {\r\n    this.setState({\r\n      active: +event.target.dataset.index,\r\n    });\r\n  };\r\n  render() {\r\n    const { photos, active } = this.state;\r\n    return (\r\n      <div className=\"carousel\">\r\n        <img src={photos[active]} alt=\"animal\" />\r\n        <div className=\"carousel-smaller\">\r\n          {photos.map((photo, index) => (\r\n            <img\r\n              key={photo}\r\n              src={photo}\r\n              data-index={index}\r\n              onClick={this.handleIndexClick}\r\n              className={index === active ? \"active\" : \"\"}\r\n              alt=\"Animal thumbnail\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Carousel;\r\n","import React, { Component } from \"react\";\r\nimport Link, { Redirect } from \"@reach/router\";\r\n\r\nclass ErrorBoundaries extends Component {\r\n  state = {\r\n    hasError: false,\r\n    redirect: false,\r\n  };\r\n\r\n  static getDerivedStateFromError() {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    console.error(\"ErrorBoundary Caught an error\", error, info);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.hasError) {\r\n      setTimeout(() => this.setState({ redirect: true }), 5000);\r\n    }\r\n  }\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    if (this.state.hasError) {\r\n      return (\r\n        <h1>\r\n          There was an error with this loading. <Link to=\"/\">Click Here</Link>\r\n          to go back to the home page or wait five seconds.\r\n        </h1>\r\n      );\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundaries;\r\n","// replace Details.js\r\nimport React, { lazy } from \"react\";\r\nimport pet from \"@frontendmasters/pet\";\r\nimport Carousel from \"./Carousel\";\r\nimport ErrorBoundaries from \"./ErrorBounderies\";\r\nimport ThemeContext from \"./ThemeContext\";\r\nimport { navigate } from \"@reach/router\";\r\n\r\nconst Model = lazy(() => {\r\n  import(\"./Model\");\r\n});\r\n\r\nclass Details extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { loading: true, showModel: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    pet\r\n      .animal(+this.props.id)\r\n      .then(({ animal }) => {\r\n        this.setState({\r\n          url: animal.url,\r\n          name: animal.name,\r\n          animal: animal.type,\r\n          location: `${animal.contact.address.city}, ${animal.contact.address.state}`,\r\n          description: animal.description,\r\n          media: animal.photos,\r\n          breed: animal.breeds.primary,\r\n          loading: false,\r\n        });\r\n      })\r\n      .catch((err) => this.setState({ error: err }));\r\n  }\r\n\r\n  toggleModal = () => this.setState({ showModel: !this.state.showModel });\r\n  adopt = () => navigate(this.state.url);\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <h1>loading … </h1>;\r\n    }\r\n\r\n    const { animal, breed, location, description, media, name } = this.state;\r\n\r\n    return (\r\n      <div className=\"details\">\r\n        <Carousel media={media} />\r\n        <div>\r\n          <h1>{name}</h1>\r\n          <h2>{`${animal} — ${breed} — ${location}`}</h2>\r\n          <ThemeContext.Consumer>\r\n            {(themeHook) => (\r\n              <button\r\n                style={{ backgroundColor: themeHook[0] }}\r\n                onClick={this.toggleModal}\r\n              >\r\n                Adopt {name}\r\n              </button>\r\n            )}\r\n          </ThemeContext.Consumer>\r\n\r\n          <p>{description}</p>\r\n          {this.state.showModel ? (\r\n            <Model>\r\n              <div>\r\n                <h1>Would you like to adopt Name</h1>\r\n                <div className=\"buttons\">\r\n                  <button onClick={this.adopt}>Yes</button>\r\n                  <button onClick={this.adopt}>No, I'm monster</button>\r\n                </div>\r\n              </div>\r\n            </Model>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default function DetailsWithErrorBoundary(props) {\r\n  return (\r\n    <ErrorBoundaries>\r\n      <Details {...props} />\r\n    </ErrorBoundaries>\r\n  );\r\n}\r\n"]}